<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/7/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-leecode-18四数之和" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/05/leecode-18%E5%9B%9B%E6%95%B0%E4%B9%8B%E5%92%8C/" class="article-date">
  <time datetime="2022-08-05T06:16:07.000Z" itemprop="datePublished">2022-08-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/05/leecode-18%E5%9B%9B%E6%95%B0%E4%B9%8B%E5%92%8C/">leecode#18四数之和</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="18-四数之和"><a href="#18-四数之和" class="headerlink" title="18. 四数之和"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/4sum/">18. 四数之和</a></h2><hr>
<p><strong>给你一个由 <code>n</code> 个整数组成的数组 <code>nums</code> ，和一个目标值 <code>target</code> 。请你找出并返回满足下述全部条件且不重复的四元组 <code>[nums[a], nums[b], nums[c], nums[d]]</code> （若两个四元组元素一一对应，则认为两个四元组重复）：</strong></p>
<ul>
<li><strong><code>0 &lt;= a, b, c, d &lt; n</code></strong></li>
<li><strong><code>a</code>、<code>b</code>、<code>c</code> 和 <code>d</code> 互不相同</strong></li>
<li><strong><code>nums[a] + nums[b] + nums[c] + nums[d] == target</code></strong></li>
</ul>
<p><strong>你可以按 任意顺序 返回答案 。</strong></p>
<p> <strong>示例 1：</strong></p>
<p><strong>输入：nums = [1,0,-1,0,-2,2], target = 0</strong><br><strong>输出：[[-2,-1,1,2],[-2,0,0,2],[-1,0,0,1]]</strong><br><strong>示例 2：</strong></p>
<p><strong>输入：nums = [2,2,2,2,2], target = 8</strong><br><strong>输出：[[2,2,2,2]]</strong></p>
<hr>
<h2 id="思路和三数之和一样的，使用排序和双指针"><a href="#思路和三数之和一样的，使用排序和双指针" class="headerlink" title="思路和三数之和一样的，使用排序和双指针"></a>思路和三数之和一样的，使用排序和双指针</h2><p><strong>其源代码如下</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">fourSum</span>(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target) &#123;</span><br><span class="line">        <span class="type">int</span> i,j=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(),nums.<span class="built_in">end</span>());</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">        <span class="type">int</span> left , right;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;nums.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>&amp;&amp;nums[i]==nums[i<span class="number">-1</span>]) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;nums.<span class="built_in">size</span>();j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(j&gt;i+<span class="number">1</span>&amp;&amp;nums[j]==nums[j<span class="number">-1</span>]) <span class="keyword">continue</span>;</span><br><span class="line">                left = j +<span class="number">1</span>;</span><br><span class="line">                right=nums.<span class="built_in">size</span>()<span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>((<span class="type">long</span>)nums[i]+nums[j]-target&gt;-(nums[left]+nums[right]))&#123;</span><br><span class="line">                    right--;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>((<span class="type">long</span>)nums[i]+nums[j]-target&lt;-(nums[left]+nums[right]))&#123;</span><br><span class="line">                    left++;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    res.<span class="built_in">push_back</span>(&#123;nums[i],nums[j],nums[left],nums[right]&#125;);</span><br><span class="line">                <span class="keyword">while</span>(left&lt;right&amp;&amp;nums[left]==nums[left+<span class="number">1</span>]) left++;</span><br><span class="line">                <span class="keyword">while</span>(left&lt;right&amp;&amp;nums[right]==nums[right<span class="number">-1</span>]) right--;</span><br><span class="line">                    left++;</span><br><span class="line">                    right--;</span><br><span class="line">                &#125;</span><br><span class="line">                &#125;</span><br><span class="line">             </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/05/leecode-18%E5%9B%9B%E6%95%B0%E4%B9%8B%E5%92%8C/" data-id="cl92id4oz000eggmj6un26c8a" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-快速排序的实现" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/05/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E7%9A%84%E5%AE%9E%E7%8E%B0/" class="article-date">
  <time datetime="2022-08-05T06:11:36.000Z" itemprop="datePublished">2022-08-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/05/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E7%9A%84%E5%AE%9E%E7%8E%B0/">快速排序的实现</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>该方法的基本思想是：</p>
<p>1．先从数列中取出一个数作为****基准数****。</p>
<p>2．分区过程，将比这个数大的数全放到它的右边，小于或等于它的数全放到它的左边。</p>
<p>3．再对左右区间重复第二步，直到各区间只有一个数。</p>
<p>以一个数组作为示例，<strong>取区间第一个数为基准数</strong>。</p>
<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
</tr>
</thead>
<tbody><tr>
<td><em><strong>*72*</strong></em></td>
<td>6</td>
<td>57</td>
<td>88</td>
<td>60</td>
<td>42</td>
<td>83</td>
<td>73</td>
<td>48</td>
<td>85</td>
</tr>
</tbody></table>
<p>初始时，i = 0; j =9;  X = a[i] = 72</p>
<p>由于已经将a[0]中的数保存到X中，可以理解成在数组a[0]上挖了个坑，可以将其它数据填充到这来。</p>
<p>从j开始向前找一个比X小或等于X的数。当j=8，符合条件，将a[8]挖出再填到上一个坑a[0]中。a[0]=a[8];i++; 这样一个坑a[0]就被搞定了，但又形成了一个新坑a[8]，这怎么办了？简单，再找数字来填a[8]这个坑。这次从i开始向后找一个大于X的数，当i=3，符合条件，将a[3]挖出再填到上一个坑中a[8]=a[3];j–;</p>
<p>数组变为：</p>
<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
</tr>
</thead>
<tbody><tr>
<td>48</td>
<td>6</td>
<td>57</td>
<td>88</td>
<td>60</td>
<td>42</td>
<td>83</td>
<td>73</td>
<td>88</td>
<td>85</td>
</tr>
</tbody></table>
<p> i = 3;  j =7;  X=72</p>
<p>再重复上面的步骤，<strong>先从后向前找，再从前向后找</strong>。</p>
<p>从j开始向前找，当j=5，符合条件，将a[5]挖出填到上一个坑中，a[3] = a[5]; i++;</p>
<p>从i开始向后找，当i=5时，由于i==j退出。</p>
<p>此时，i = j = 5，而a[5]刚好又是上次挖的坑，因此将X填入a[5]。</p>
<p>数组变为：</p>
<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
</tr>
</thead>
<tbody><tr>
<td>48</td>
<td>6</td>
<td>57</td>
<td>42</td>
<td>60</td>
<td>72</td>
<td>83</td>
<td>73</td>
<td>88</td>
<td>85</td>
</tr>
</tbody></table>
<p>可以看出a[5]前面的数字都小于它，a[5]后面的数字都大于它。因此再对a[0…4]和a[6…9]这二个子区间重复上述步骤就可以了。</p>
<p>对挖坑填数进行总结</p>
<p>1、i =L; j = R; 将基准数挖出形成第一个坑a[i]。</p>
<p>2、j–由后向前找比它小的数，找到后挖出此数填前一个坑a[i]中。</p>
<p>3、i++由前向后找比它大的数，找到后也挖出此数填到前一个坑a[j]中。</p>
<p>4、再重复执行2，3二步，直到i==j，将基准数填入a[i]中。</p>
<h3 id="源代码如下："><a href="#源代码如下：" class="headerlink" title="源代码如下："></a>源代码如下：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Qsort</span><span class="params">(<span class="type">int</span> num[],<span class="type">int</span> left,<span class="type">int</span> right)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> temp=num[left];</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">while</span>(num[right]&gt;temp&amp;&amp;left&lt;right)</span><br><span class="line">            right--;</span><br><span class="line">        num[left]=num[right];</span><br><span class="line">        <span class="keyword">while</span>(left&lt;right&amp;&amp;num[left]&lt;temp)</span><br><span class="line">            left++;</span><br><span class="line">        num[right]=num[left];    </span><br><span class="line">    &#125;</span><br><span class="line">    num[left]=temp;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QuickSort</span><span class="params">(<span class="type">int</span> num[],<span class="type">int</span> left,<span class="type">int</span> right)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> mid;</span><br><span class="line">    <span class="keyword">if</span>(left&lt;right)&#123;</span><br><span class="line">        mid=<span class="built_in">Qsort</span>(num,left,right);</span><br><span class="line">        <span class="built_in">QuickSort</span>(num,left,mid<span class="number">-1</span>);</span><br><span class="line">        <span class="built_in">QuickSort</span>(num,mid+<span class="number">1</span>,right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> num[<span class="number">10</span>]=&#123;<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">232</span>,<span class="number">42</span>,<span class="number">534</span>,<span class="number">53</span>,<span class="number">32</span>,<span class="number">421</span>,<span class="number">3</span>&#125;;</span><br><span class="line">    <span class="built_in">QuickSort</span>(num,<span class="number">0</span>,<span class="number">9</span>);</span><br><span class="line">     <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">         cout &lt;&lt; num[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/05/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E7%9A%84%E5%AE%9E%E7%8E%B0/" data-id="cl92id4pi001jggmj2hi36ulh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-leecode-16" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/04/leecode-16/" class="article-date">
  <time datetime="2022-08-04T08:19:33.000Z" itemprop="datePublished">2022-08-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/04/leecode-16/">leecode#16</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="16-最接近的三数之和"><a href="#16-最接近的三数之和" class="headerlink" title="16. 最接近的三数之和"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/3sum-closest/">16. 最接近的三数之和</a></h4><p><strong>给你一个长度为 <code>n</code> 的整数数组 <code>nums</code> 和 一个目标值 <code>target</code>。请你从 <code>nums</code> 中选出三个整数，使它们的和与 <code>target</code> 最接近。</strong></p>
<p><strong>返回这三个数的和。</strong></p>
<p><strong>假定每组输入只存在恰好一个解。</strong></p>
<hr>
<p><strong>示例 1：</strong></p>
<p><strong>输入：nums = [-1,2,1,-4], target = 1</strong><br><strong>输出：2</strong><br><strong>解释：与 target 最接近的和是 2 (-1 + 2 + 1 = 2) 。</strong></p>
<p><strong>示例 2：</strong></p>
<p><strong>输入：nums = [0,0,0], target = 1</strong><br><strong>输出：0</strong></p>
<h3 id="思路："><a href="#思路：" class="headerlink" title="思路："></a>思路：</h3><p><strong>与15题类似，排序后用双指针遍历整个数组，找出和与目标值插值最小的三个数之和</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">threeSumClosest</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">         <span class="type">int</span> res,min=<span class="number">-1111111111</span>,sum;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(),nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> a=<span class="number">0</span>;a&lt;nums.<span class="built_in">size</span>()<span class="number">-2</span>;a++)&#123;</span><br><span class="line">            <span class="type">int</span> left = a+<span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> right= nums.<span class="built_in">size</span>()<span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">                sum=nums[a]+nums[left]+nums[right];</span><br><span class="line">                <span class="keyword">if</span>(sum&lt;target)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(<span class="built_in">abs</span>(min)&gt;<span class="built_in">abs</span>(target-sum))&#123;</span><br><span class="line">                        min=<span class="built_in">abs</span>(target-sum);</span><br><span class="line">                        res = sum;</span><br><span class="line">                    &#125; </span><br><span class="line">                    left++;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(sum&gt;target)&#123;</span><br><span class="line">                     <span class="keyword">if</span>(<span class="built_in">abs</span>(min)&gt;<span class="built_in">abs</span>(target-sum))&#123;</span><br><span class="line">                        min=<span class="built_in">abs</span>(target-sum);</span><br><span class="line">                        res = sum ;</span><br><span class="line">                    &#125; </span><br><span class="line">                    right--;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    res = target;</span><br><span class="line">                    <span class="keyword">return</span> res;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/04/leecode-16/" data-id="cl92id4oy000dggmj8xbqhwlq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-leecode-15三数之和" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/04/leecode-15%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C/" class="article-date">
  <time datetime="2022-08-04T06:50:10.000Z" itemprop="datePublished">2022-08-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/04/leecode-15%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C/">leecode#15三数之和</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>给你一个包含 n 个整数的数组 nums，判断 nums 中是否存在三个元素 a，b，c ，使得 a + b + c = 0 ？请你找出所有和为 0 且不重复的三元组。</strong></p>
<p><strong>注意：答案中不可以包含重复的三元组。</strong></p>
<hr>
<p><strong>示例 1：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：nums = [-1,0,1,2,-1,-4]</span><br><span class="line">输出：[[-1,-1,2],[-1,0,1]]</span><br></pre></td></tr></table></figure>

<h3 id="思路："><a href="#思路：" class="headerlink" title="思路："></a>思路：</h3><p><strong>要找出三个数满足a+b+c=0，可以用两个指针指向连个数，第三个数用c=-a-b来确定，这样遍历得到结果，但是时间复杂度很高，而且用哈希存储去重也比较麻烦</strong></p>
<p><strong>首先将数组排序，采用一个指针指i向队列前端，一个指针left指向i+1为最后一个指针为right队列尾端的指针。判断三个值相加的结果，如果大于0，则最右边的指针左移，否则left右移</strong></p>
<p><strong>其次重要的是就是去重： 首先单单对于i来说两次循环若num[i]==nums[i-1] 相等则两次的结果是相同的</strong></p>
<p><strong>但对于left来说 nums[left] = nums[left+1]是效果相同的，同理nums[right]=nums[right-1]也是一样的</strong></p>
<h3 id="源代码："><a href="#源代码：" class="headerlink" title="源代码："></a>源代码：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">threeSum</span>(vector&lt;<span class="type">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;nums.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>&amp;&amp;nums[i]==nums[i<span class="number">-1</span>])</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="type">int</span> left=i+<span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> right=nums.<span class="built_in">size</span>()<span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">                <span class="keyword">if</span>(nums[i]+nums[left]+nums[right]&lt;<span class="number">0</span>)&#123;</span><br><span class="line">                    left++;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[i]+nums[left]+nums[right]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                    right--;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    res.<span class="built_in">push_back</span>(&#123;nums[i],nums[left],nums[right]&#125;);                 </span><br><span class="line">                    <span class="keyword">while</span>(left&lt;right&amp;&amp;nums[left]==nums[left+<span class="number">1</span>])                         left++;</span><br><span class="line">                    <span class="keyword">while</span>(left&lt;right&amp;&amp;nums[right]==nums[right<span class="number">-1</span>])                         right--;</span><br><span class="line">                    left++;   <span class="comment">// 找到了两个指针同时移动</span></span><br><span class="line">                    right--;       </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">          </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/04/leecode-15%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C/" data-id="cl92id4oy000cggmjduolh03c" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-优先队列堆的实现" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/04/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E5%A0%86%E7%9A%84%E5%AE%9E%E7%8E%B0/" class="article-date">
  <time datetime="2022-08-04T02:53:25.000Z" itemprop="datePublished">2022-08-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/04/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E5%A0%86%E7%9A%84%E5%AE%9E%E7%8E%B0/">优先队列堆的实现</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="优先队列堆的实现"><a href="#优先队列堆的实现" class="headerlink" title="优先队列堆的实现"></a>优先队列堆的实现</h2><p><strong>堆的结构如下：</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">heap</span>&#123;</span><br><span class="line">    <span class="type">int</span> capacity; <span class="comment">//堆的容量</span></span><br><span class="line">    <span class="type">int</span> size;     <span class="comment">//堆的当前大小</span></span><br><span class="line">    <span class="type">int</span> *ELements;    <span class="comment">//元素从1开始存储</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>堆的操作有：创建堆，销毁堆，判断堆空，堆满，插入一个元素，弹出堆顶元素</strong></p>
<p><strong>其关键在于插入元素和弹出元素</strong></p>
<p>插入元素首先是在堆的末尾插入，在插入之后要调整堆的结构，保证它堆的性质。</p>
<p>从最后往上调整，这个过程称为“上滤”：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_pri_queue</span><span class="params">(<span class="type">int</span> X,pri_queue H)</span></span>&#123;</span><br><span class="line">    <span class="comment">// 首先要找到插入的位置</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">is_queue_full</span>(H))&#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;Priority queue is full&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="comment">// 元素从最后往前插入</span></span><br><span class="line">    <span class="keyword">for</span>(i=++(H-&gt;size);H-&gt;ELements[i/<span class="number">2</span>]&gt;X;i=i/<span class="number">2</span>)&#123;</span><br><span class="line">        H-&gt;ELements[i]=H-&gt;ELements[i/<span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    H-&gt;ELements[i]=X;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>删除元素，是删除堆顶元素，然后从堆顶往下调整，这个过程称为“下滤”：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">pop_pri_queue</span><span class="params">(pri_queue H)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//弹出堆顶元素</span></span><br><span class="line">    <span class="type">int</span> i,child;</span><br><span class="line">    <span class="type">int</span> minElement,lastElement;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">is_queue_empty</span>(H))&#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;The queue is empty!&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> H-&gt;ELements[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    minElement=H-&gt;ELements[<span class="number">1</span>];</span><br><span class="line">    lastElement=H-&gt;ELements[H-&gt;size--];</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>;i*<span class="number">2</span>&lt;=H-&gt;size;i=child)&#123;  <span class="comment">// 一直往下滤找到最后一层或叶子结点</span></span><br><span class="line">        child = i*<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(child !=H-&gt;size &amp;&amp; H-&gt;ELements[child+<span class="number">1</span>]&lt;H-&gt;ELements[child]) <span class="comment">//找到两个child中小的那个</span></span><br><span class="line">            child++;</span><br><span class="line">        <span class="comment">//找到最后一个元素上浮的位置</span></span><br><span class="line">        <span class="comment">//最后一个元素要插入到比他大的那个非叶结点</span></span><br><span class="line">        <span class="keyword">if</span>(lastElement&lt;H-&gt;ELements[child])&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            H-&gt;ELements[i]=H-&gt;ELements[child];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    H-&gt;ELements[i]=lastElement;</span><br><span class="line">    <span class="keyword">return</span> minElement;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="其完整源代码如下："><a href="#其完整源代码如下：" class="headerlink" title="其完整源代码如下："></a>其完整源代码如下：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MinPQsize (10)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MinData -32767</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">heap</span>&#123;</span><br><span class="line">    <span class="type">int</span> capacity; <span class="comment">//堆的容量</span></span><br><span class="line">    <span class="type">int</span> size;     <span class="comment">//堆的当前大小</span></span><br><span class="line">    <span class="type">int</span> *ELements;    <span class="comment">//元素从1开始存储</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">heap</span> * pri_queue;</span><br><span class="line"></span><br><span class="line"><span class="function">pri_queue <span class="title">pri_queue_init</span><span class="params">(<span class="type">int</span> MaxElements)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">destroy_queue</span><span class="params">(pri_queue H)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">make_prique_empty</span><span class="params">(pri_queue H)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_pri_queue</span><span class="params">(<span class="type">int</span> X, pri_queue H)</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">pop_pri_queue</span><span class="params">(pri_queue H)</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find_que_min</span><span class="params">(pri_queue H)</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">is_queue_empty</span><span class="params">(pri_queue H)</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">is_queue_full</span><span class="params">(pri_queue H)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print_pri_queue</span><span class="params">(pri_queue H)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">pri_queue <span class="title">pri_queue_init</span><span class="params">(<span class="type">int</span> MaxElements)</span></span>&#123;</span><br><span class="line">    pri_queue H;</span><br><span class="line">    <span class="keyword">if</span>(MaxElements&lt;MinPQsize)</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;The MaxElements are too small!&quot;</span>&lt;&lt;endl;</span><br><span class="line">    H = (pri_queue)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="keyword">struct</span> heap));</span><br><span class="line">    <span class="keyword">if</span>(H==<span class="literal">NULL</span>)</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;out of spcae&quot;</span>&lt;&lt;endl;</span><br><span class="line">    H-&gt;ELements = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="type">int</span>)*MaxElements+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(H-&gt;ELements==<span class="literal">NULL</span>)</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;out of space&quot;</span>&lt;&lt;endl;</span><br><span class="line">    H-&gt;capacity = MaxElements;</span><br><span class="line">    H-&gt;size = <span class="number">0</span>;</span><br><span class="line">    H-&gt;ELements[<span class="number">0</span>]=MinData;  <span class="comment">//初试化最小的元素</span></span><br><span class="line">    <span class="keyword">return</span> H;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">destroy_queue</span><span class="params">(pri_queue H)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">free</span>(H-&gt;ELements);</span><br><span class="line">    <span class="built_in">free</span>(H);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_pri_queue</span><span class="params">(<span class="type">int</span> X,pri_queue H)</span></span>&#123;</span><br><span class="line">    <span class="comment">// 首先要找到插入的位置</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">is_queue_full</span>(H))&#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;Priority queue is full&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="comment">// 元素从最后往前插入</span></span><br><span class="line">    <span class="keyword">for</span>(i=++(H-&gt;size);H-&gt;ELements[i/<span class="number">2</span>]&gt;X;i=i/<span class="number">2</span>)&#123;</span><br><span class="line">        H-&gt;ELements[i]=H-&gt;ELements[i/<span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    H-&gt;ELements[i]=X;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">pop_pri_queue</span><span class="params">(pri_queue H)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//弹出堆顶元素</span></span><br><span class="line">    <span class="type">int</span> i,child;</span><br><span class="line">    <span class="type">int</span> minElement,lastElement;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">is_queue_empty</span>(H))&#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;The queue is empty!&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> H-&gt;ELements[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    minElement=H-&gt;ELements[<span class="number">1</span>];</span><br><span class="line">    lastElement=H-&gt;ELements[H-&gt;size--];</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>;i*<span class="number">2</span>&lt;=H-&gt;size;i=child)&#123;  <span class="comment">// 一直往下滤找到最后一层或叶子结点</span></span><br><span class="line">        child = i*<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(child !=H-&gt;size &amp;&amp; H-&gt;ELements[child+<span class="number">1</span>]&lt;H-&gt;ELements[child]) <span class="comment">//找到两个child中小的那个</span></span><br><span class="line">            child++;</span><br><span class="line">        <span class="comment">//找到最后一个元素上浮的位置</span></span><br><span class="line">        <span class="comment">//最后一个元素要插入到比他大的那个非叶结点</span></span><br><span class="line">        <span class="keyword">if</span>(lastElement&lt;H-&gt;ELements[child])&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            H-&gt;ELements[i]=H-&gt;ELements[child];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    H-&gt;ELements[i]=lastElement;</span><br><span class="line">    <span class="keyword">return</span> minElement;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find_que_min</span><span class="params">(pri_queue H)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">is_queue_empty</span>(H))&#123;</span><br><span class="line">        <span class="keyword">return</span> H-&gt;ELements[<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;queue is Empty!&quot;</span>&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> H-&gt;ELements[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">make_prique_empty</span><span class="params">(pri_queue H)</span></span>&#123;</span><br><span class="line">    H-&gt;size=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">is_queue_empty</span><span class="params">(pri_queue H)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> H-&gt;size==<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">is_queue_full</span><span class="params">(pri_queue H)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> H-&gt;size==H-&gt;capacity;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print_pri_queue</span><span class="params">(pri_queue H)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> i=<span class="number">1</span>;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;输出优先队列中的内容&quot;</span>&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">for</span>(;i&lt;=H-&gt;size;i++)&#123;</span><br><span class="line">        cout&lt;&lt;H-&gt;ELements[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    pri_queue H =<span class="built_in">pri_queue_init</span>(<span class="number">50</span>);</span><br><span class="line">    <span class="type">int</span> ar[] = &#123;<span class="number">32</span>, <span class="number">21</span>, <span class="number">16</span>, <span class="number">24</span>, <span class="number">31</span>, <span class="number">19</span>, <span class="number">68</span>, <span class="number">65</span>, <span class="number">26</span>, <span class="number">13</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">        <span class="built_in">push_pri_queue</span>(ar[i],H);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    <span class="built_in">print_pri_queue</span>(H);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">        cout&lt;&lt;<span class="built_in">pop_pri_queue</span>(H)&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/04/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E5%A0%86%E7%9A%84%E5%AE%9E%E7%8E%B0/" data-id="cl92id4ph001fggmj2fzj4enq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-c++基础" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/02/c++%E5%9F%BA%E7%A1%80/" class="article-date">
  <time datetime="2022-08-02T02:00:13.000Z" itemprop="datePublished">2022-08-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/02/c++%E5%9F%BA%E7%A1%80/">c++基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="c-运算符运算顺序："><a href="#c-运算符运算顺序：" class="headerlink" title="c++ 运算符运算顺序："></a>c++ 运算符运算顺序：</h2><p>相同优先级从左到右</p>
<p>逻辑运算符（NOT）&gt; 算数运算符（*，/，%）&gt;算数运算符（+,-）&gt; 相对关系运算符（&gt;,&lt;,&lt;=,&gt;=）&gt;</p>
<p>相对关系运算符(==,!=) &gt; 逻辑运算符（AND）&gt; 逻辑运算符（OR）&gt; 赋值运算符</p>
<h2 id="c-文件读写"><a href="#c-文件读写" class="headerlink" title="c++ 文件读写"></a>c++ 文件读写</h2><p>ifstream 读文件</p>
<p>ofstream 写文件 ， 追加模式 ofstream(“a.txt” , ios_base::app)</p>
<p>fstream 同时读写文件</p>
<h2 id="c-模板函数的定义"><a href="#c-模板函数的定义" class="headerlink" title="c++ 模板函数的定义"></a>c++ 模板函数的定义</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> elemType&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">display_message</span><span class="params">(<span class="type">const</span> string &amp;msg,<span class="type">const</span> vector&lt;elemType&gt; &amp;vec)</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">display_message</span><span class="params">(<span class="type">const</span> string &amp;msg,<span class="type">const</span> list&lt;elemType&gt; &amp;lt)</span></span></span><br></pre></td></tr></table></figure>

<h2 id="C-函数指针"><a href="#C-函数指针" class="headerlink" title="C++ 函数指针"></a>C++ 函数指针</h2><p><em><em>函数指针必须指明函数的返回值和参数表，此外函数指针的定义式必须将</em> 置于某个位置</em>*</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> vector&lt;<span class="type">int</span>&gt; * (*seq_ptr)(<span class="type">int</span>)</span><br></pre></td></tr></table></figure>

<p><strong>现在seq_ptr可以指向具有所列之返回值类型及参数表的任何一个函数</strong></p>
<h2 id="泛型编程"><a href="#泛型编程" class="headerlink" title="泛型编程"></a>泛型编程</h2><p><strong>STL(Standard Template Library)由两种组件构成，一种是容器包括 vector , list , set ,map另一种是操作这些容器的泛型算法例如find(),sort()</strong></p>
<p>list和map 属于序列式容器，set和map属于关联式容器。</p>
<h3 id="标准容器的iterators"><a href="#标准容器的iterators" class="headerlink" title="标准容器的iterators"></a>标准容器的iterators</h3><p>定义方法 <strong>vector<int>::iterator it;</int></strong></p>
<p>iterator实际上是一个指针，指向容器中某个元素的指针。</p>
<p>泛型函数的编写关键在于iterator，它可以是函数不直接操作与容器，而是iterator，这样不同的容器。</p>
<h3 id="序列式容器的使用"><a href="#序列式容器的使用" class="headerlink" title="序列式容器的使用"></a>序列式容器的使用</h3><p>定义空容器：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">**list&lt;<span class="type">int</span>&gt;  ilist;**</span><br></pre></td></tr></table></figure>

<p>定义特定大小容器： </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">**<span class="function">list&lt;<span class="type">int</span>&gt; <span class="title">ilist</span><span class="params">(<span class="number">1024</span>)</span></span>;**</span><br></pre></td></tr></table></figure>

<p>产生特定大小的容器，并为其赋值：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">**<span class="function">list&lt;<span class="type">int</span>&gt; <span class="title">ilist</span><span class="params">(<span class="number">10</span>,<span class="number">-1</span>)</span></span>;**</span><br></pre></td></tr></table></figure>

<p>通过一对iterators产生容器：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">**<span class="type">int</span>  iA[<span class="number">8</span>]=&#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">2</span>&#125;; <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">fib</span><span class="params">(ia,ia+<span class="number">8</span>)</span></span>;**</span><br></pre></td></tr></table></figure>

<p>根据已有容器产生新的容器：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">list&lt;string&gt; slist;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//填充容器</span></span><br><span class="line"></span><br><span class="line"><span class="function">list&lt;string&gt; <span class="title">slist2</span><span class="params">(slist)</span></span>;</span><br></pre></td></tr></table></figure>

<h2 id="面向对象编程"><a href="#面向对象编程" class="headerlink" title="面向对象编程"></a>面向对象编程</h2><p><strong>class的程序骨干</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">stack</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="comment">//..public interface </span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="comment">// private 的实现部分</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>成员函数在class内部定义则被视为inline函数，若在class外部定义则要使用特殊的语法。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">stack::<span class="built_in">push</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>成员初值表（constructor 规定的第二种初试化语法</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Triangular :: <span class="built_in">Triangular</span>(<span class="type">const</span> Triangular &amp;rhs): _length(rhs._length)</span><br><span class="line">    ,_beg_pos(rhs._beg_pos),_next(rhs._beg_pos<span class="number">-1</span>)&#123;&#125;</span><br><span class="line">Triangular :: <span class="built_in">Triangular</span>(<span class="type">int</span> len,<span class="type">int</span> bp): _name(<span class="string">&quot;Triangular&quot;</span>)&#123;</span><br><span class="line">    _length=len&gt;<span class="number">0</span>?len:<span class="number">1</span>;</span><br><span class="line">    _beg_pos=bp&gt;<span class="number">0</span>?bp:<span class="number">1</span>;</span><br><span class="line">    _next = _beg_pos<span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="运算符重载"><a href="#运算符重载" class="headerlink" title="运算符重载"></a>运算符重载</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LessThan</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	<span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> value)</span> <span class="type">const</span></span>;  <span class="comment">//重载（）运算符，令他具有比较两个数的含义</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    	<span class="type">int</span> _val</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> value)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> value&lt;_val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="function">LessThan <span class="title">It</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">It</span>(<span class="number">11</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="重载iostream操作符"><a href="#重载iostream操作符" class="headerlink" title="重载iostream操作符"></a>重载iostream操作符</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">         <span class="type">int</span> y ;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt; (ostream &amp;os,Player player)&#123;</span><br><span class="line">    os&lt;&lt;<span class="string">&quot;(&quot;</span>&lt;&lt;player.x&lt;&lt;<span class="string">&quot;)&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Player player1;</span><br><span class="line">    player1.x=<span class="number">1</span>;</span><br><span class="line">    cout&lt;&lt;player1;</span><br><span class="line">    cout&lt;&lt;endl&lt;&lt;<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="类中的static"><a href="#类中的static" class="headerlink" title="类中的static"></a>类中的static</h3><p>首先类中的static 变量要使用要在外部声明</p>
<p><strong>int Player::x;</strong><br><strong>int Player::y;</strong></p>
<p>一个类中的所有的实例的static变量其实都是一个</p>
<p>比如player1的x，y为1，2；</p>
<p>然后player2改变了x，y值 为3，4</p>
<p>最后输出player1的x，y值为3，4</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">static</span> <span class="type">int</span> x,y;  <span class="comment">// 静态变量使用要先声明 ，实际上相当于x，y不属于类，而是命名空间中的两个变量</span></span><br><span class="line">        <span class="built_in">Player</span>(<span class="type">int</span> ax)&#123;</span><br><span class="line">            x = ax;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">            cout&lt;&lt;<span class="keyword">this</span>-&gt;x;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> Player::x;</span><br><span class="line"><span class="type">int</span> Player::y;</span><br><span class="line"></span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt; (ostream &amp;os,Player player)&#123;</span><br><span class="line">    os&lt;&lt;<span class="string">&quot;(&quot;</span>&lt;&lt;player.x&lt;&lt;<span class="string">&quot;)&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="function">Player <span class="title">player1</span><span class="params">(<span class="number">1</span>)</span>,<span class="title">player2</span><span class="params">(<span class="number">2</span>)</span></span>;</span><br><span class="line">    player1.<span class="built_in">print</span>();    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="在类中每个非静态方法都能获得一个类的实例，可以用this指针指向这个类实例。"><a href="#在类中每个非静态方法都能获得一个类的实例，可以用this指针指向这个类实例。" class="headerlink" title="在类中每个非静态方法都能获得一个类的实例，可以用this指针指向这个类实例。"></a>在类中每个非静态方法都能获得一个类的实例，可以用this指针指向这个类实例。</h3><h2 id="C-的继承"><a href="#C-的继承" class="headerlink" title="C++的继承"></a>C++的继承</h2><p>虚函数的出现，子类要重写父类的方法，一定要把父类的方法标记为虚函数。</p>
<p>因为如果不这样做，当子类的指针调用该函数时，下列情况仍然会调用父类的方法</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	<span class="type">int</span> x,y;</span><br><span class="line">    	<span class="function">string <span class="title">GetName</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> <span class="string">&quot;Entity&quot;</span>;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span>: <span class="keyword">public</span> Entity&#123;</span><br><span class="line">    string name;</span><br><span class="line">    <span class="function">string <span class="title">GetName</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> <span class="keyword">this</span>.Name&#125;</span><br><span class="line">    <span class="built_in">Player</span>(<span class="type">const</span> string &amp;name):<span class="built_in">name</span>(name)&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="built_in">printName</span>(Entity e)&#123;  <span class="comment">//没有虚函数，调用方法时，都是使用该参数的方法</span></span><br><span class="line">    cout&lt;&lt;e-&gt;<span class="built_in">GetName</span>()&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	Entity * e - <span class="keyword">new</span> <span class="built_in">Entity</span>();</span><br><span class="line">    <span class="built_in">printName</span>(e);</span><br><span class="line">    Player * p = <span class="keyword">new</span> <span class="built_in">Player</span>(<span class="string">&quot;cherno&quot;</span>);</span><br><span class="line">    <span class="built_in">printName</span>(p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>player 也是Entity类，传入printName()函数中执行的是Entity的GetName()函数</p>
<p>原因在于我们声明函数时，我们的方法一般在类的内部起作用。然后调用方法的时候，会调用属于该类型的方法。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	<span class="type">int</span> x,y;</span><br><span class="line">    	<span class="function"><span class="keyword">virtual</span> string <span class="title">GetName</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> <span class="string">&quot;Entity&quot;</span>;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span>: <span class="keyword">public</span> Entity&#123;</span><br><span class="line">    string name;</span><br><span class="line">   	<span class="function">string <span class="title">GetName</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">this</span>.Name&#125;</span><br><span class="line">    <span class="built_in">Player</span>(<span class="type">const</span> string &amp;name):<span class="built_in">name</span>(name)&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="built_in">printName</span>(Entity e)&#123;  <span class="comment">//没有虚函数，调用方法时，都是使用该参数的方法</span></span><br><span class="line">    cout&lt;&lt;e-&gt;<span class="built_in">GetName</span>()&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	Entity * e - <span class="keyword">new</span> <span class="built_in">Entity</span>();</span><br><span class="line">    <span class="built_in">printName</span>(e);</span><br><span class="line">    Player * p = <span class="keyword">new</span> <span class="built_in">Player</span>(<span class="string">&quot;cherno&quot;</span>);</span><br><span class="line">    <span class="built_in">printName</span>(p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="纯虚函数就是虚函数没有方法体，并赋值为0。具有纯虚函数的类不能实例化，只能被子类继承，继承的子类必须实现父类所有的纯虚函数。具有纯虚函数的类相当于java中的接口。"><a href="#纯虚函数就是虚函数没有方法体，并赋值为0。具有纯虚函数的类不能实例化，只能被子类继承，继承的子类必须实现父类所有的纯虚函数。具有纯虚函数的类相当于java中的接口。" class="headerlink" title="纯虚函数就是虚函数没有方法体，并赋值为0。具有纯虚函数的类不能实例化，只能被子类继承，继承的子类必须实现父类所有的纯虚函数。具有纯虚函数的类相当于java中的接口。"></a>纯虚函数就是虚函数没有方法体，并赋值为0。具有纯虚函数的类不能实例化，只能被子类继承，继承的子类必须实现父类所有的纯虚函数。具有纯虚函数的类相当于java中的接口。</h3><h3 id="在派生类中定义虚函数的注意事项："><a href="#在派生类中定义虚函数的注意事项：" class="headerlink" title="在派生类中定义虚函数的注意事项："></a>在派生类中定义虚函数的注意事项：</h3><p><strong>派生类中的方法的返回值和参数必须和父类一致，否则派生类的方法不是重写父类的方法而是隐藏了父类的方法</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/02/c++%E5%9F%BA%E7%A1%80/" data-id="cl92id4or0003ggmj8cks1cnw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-文本分析二叉树实现" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/07/29/%E6%96%87%E6%9C%AC%E5%88%86%E6%9E%90%E4%BA%8C%E5%8F%89%E6%A0%91%E5%AE%9E%E7%8E%B0/" class="article-date">
  <time datetime="2022-07-29T05:27:31.000Z" itemprop="datePublished">2022-07-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/07/29/%E6%96%87%E6%9C%AC%E5%88%86%E6%9E%90%E4%BA%8C%E5%8F%89%E6%A0%91%E5%AE%9E%E7%8E%B0/">文本分析二叉树实现</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="文本分析二叉排序树实现"><a href="#文本分析二叉排序树实现" class="headerlink" title="文本分析二叉排序树实现"></a>文本分析二叉排序树实现</h2><p>​    基本操作二叉树的构建，结点的插入寻找，二叉树的遍历。</p>
<h3 id="二叉树的结构："><a href="#二叉树的结构：" class="headerlink" title="二叉树的结构："></a>二叉树的结构：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">BSTNode</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="type">char</span> str[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> strlength;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> count;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">BSTNode</span> *lchild;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">BSTNode</span> *rchild;</span><br><span class="line"></span><br><span class="line">&#125;BSTNode,* BSTree;</span><br></pre></td></tr></table></figure>

<h3 id="二叉树结点的构建："><a href="#二叉树结点的构建：" class="headerlink" title="二叉树结点的构建："></a>二叉树结点的构建：</h3><p>​        二叉树为空的时候，创建一个新的结点，并为它开辟内存空间。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">static</span> BSTNode* <span class="title">CreateNode</span><span class="params">(<span class="type">char</span> str[])</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  BSTNode * pTemp = (BSTNode *)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(BSTNode));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(pTemp == <span class="literal">NULL</span>)&#123;</span><br><span class="line"></span><br><span class="line">​    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">strcpy</span>(pTemp-&gt;str,str);</span><br><span class="line"></span><br><span class="line">  pTemp-&gt;strlength=<span class="built_in">strlen</span>(str);</span><br><span class="line"></span><br><span class="line">  pTemp-&gt;lchild = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">  pTemp-&gt;rchild = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">  pTemp-&gt;count=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="二叉树结点的插入："><a href="#二叉树结点的插入：" class="headerlink" title="二叉树结点的插入："></a>二叉树结点的插入：</h3><p>​        二叉树结点要插入首先找到要插入的位置，若在树中则返回结点已存在，若树中没有该结点，则返回查找遍历的最后一个结点，这就是要插入的位置。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">search</span><span class="params">(BSTree root,<span class="type">char</span> str[],BSTNode *father,BSTNode **p)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">NULL</span>)&#123;</span><br><span class="line">        *p=father;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">strcmp</span>(root-&gt;str,str)==<span class="number">0</span>)&#123;</span><br><span class="line">        *p =root;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">strcmp</span>(root-&gt;str,str)&lt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">search</span>(root-&gt;rchild,str,root,p);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">search</span>(root-&gt;lchild,str,root,p);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Insert</span><span class="params">(BSTree *root,<span class="type">char</span> str[])</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(*root==<span class="literal">NULL</span>)&#123; <span class="comment">//空树</span></span><br><span class="line">        *root = <span class="built_in">CreateNode</span>(str);   <span class="comment">//插入根结点</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    BSTNode *p;</span><br><span class="line">    <span class="comment">// 首先判断要插入的结点在树中是否存在</span></span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">search</span>(*root,str,<span class="literal">NULL</span>,&amp;p))&#123;    <span class="comment">//查找失败，此时p指向遍历的最后一个结点</span></span><br><span class="line">        BSTNode *pNew = <span class="built_in">CreateNode</span>(str);</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(p-&gt;str,pNew-&gt;str)&lt;<span class="number">0</span>)&#123;</span><br><span class="line">            p-&gt;rchild = pNew;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">strcmp</span>(p-&gt;str,pNew-&gt;str))&#123;</span><br><span class="line">            p-&gt;lchild = pNew;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;该元素已存在，插入失败!&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="二叉树的遍历"><a href="#二叉树的遍历" class="headerlink" title="二叉树的遍历"></a>二叉树的遍历</h3><p>​        二叉树的遍历有先序，中序，后序，层次遍历。可以采用递归和非递归的方式去实现。本例采用的是中序遍历。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">inorderprint</span><span class="params">(BSTree root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">inorderprint</span>(root-&gt;lchild);</span><br><span class="line">    cout&lt;&lt;root-&gt;str&lt;&lt;<span class="string">&quot; :&quot;</span>&lt;&lt;root-&gt;count&lt;&lt;endl;</span><br><span class="line">    <span class="built_in">inorderprint</span>(root-&gt;rchild);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="完整的代码如下："><a href="#完整的代码如下：" class="headerlink" title="完整的代码如下："></a>完整的代码如下：</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">BSTNode</span>&#123;</span><br><span class="line">    <span class="type">char</span> str[<span class="number">100</span>];</span><br><span class="line">    <span class="type">int</span> strlength;</span><br><span class="line">    <span class="type">int</span> count;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">BSTNode</span> *lchild;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">BSTNode</span> *rchild;</span><br><span class="line">&#125;BSTNode,* BSTree;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span> BSTNode* <span class="title">CreateNode</span><span class="params">(<span class="type">char</span> str[])</span></span>&#123;</span><br><span class="line">    BSTNode * pTemp = (BSTNode *)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(BSTNode));</span><br><span class="line">    <span class="keyword">if</span>(pTemp == <span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">strcpy</span>(pTemp-&gt;str,str);</span><br><span class="line">    pTemp-&gt;strlength=<span class="built_in">strlen</span>(str);</span><br><span class="line">    pTemp-&gt;lchild = <span class="literal">NULL</span>;</span><br><span class="line">    pTemp-&gt;rchild = <span class="literal">NULL</span>;</span><br><span class="line">    pTemp-&gt;count=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">search</span><span class="params">(BSTree root,<span class="type">char</span> str[],BSTNode *father,BSTNode **p)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">NULL</span>)&#123;</span><br><span class="line">        *p=father;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">strcmp</span>(root-&gt;str,str)==<span class="number">0</span>)&#123;</span><br><span class="line">        *p =root;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">strcmp</span>(root-&gt;str,str)&lt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">search</span>(root-&gt;rchild,str,root,p);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">search</span>(root-&gt;lchild,str,root,p);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Insert</span><span class="params">(BSTree *root,<span class="type">char</span> str[])</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(*root==<span class="literal">NULL</span>)&#123; <span class="comment">//空树</span></span><br><span class="line">        *root = <span class="built_in">CreateNode</span>(str);   <span class="comment">//插入根结点</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    BSTNode *p;</span><br><span class="line">    <span class="comment">// 首先判断要插入的结点在树中是否存在</span></span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">search</span>(*root,str,<span class="literal">NULL</span>,&amp;p))&#123;    <span class="comment">//查找失败，此时p指向遍历的最后一个结点</span></span><br><span class="line">        BSTNode *pNew = <span class="built_in">CreateNode</span>(str);</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(p-&gt;str,pNew-&gt;str)&lt;<span class="number">0</span>)&#123;</span><br><span class="line">            p-&gt;rchild = pNew;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">strcmp</span>(p-&gt;str,pNew-&gt;str))&#123;</span><br><span class="line">            p-&gt;lchild = pNew;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;该元素已存在，插入失败!&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">inorderprint</span><span class="params">(BSTree root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">inorderprint</span>(root-&gt;lchild);</span><br><span class="line">    cout&lt;&lt;root-&gt;str&lt;&lt;<span class="string">&quot; :&quot;</span>&lt;&lt;root-&gt;count&lt;&lt;endl;</span><br><span class="line">    <span class="built_in">inorderprint</span>(root-&gt;rchild);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">   </span><br><span class="line">    LARGE_INTEGER nFreq;</span><br><span class="line">	LARGE_INTEGER t1;</span><br><span class="line">	LARGE_INTEGER t2;</span><br><span class="line">	LARGE_INTEGER t3;</span><br><span class="line">	LARGE_INTEGER t4;</span><br><span class="line">    <span class="type">double</span> dt;</span><br><span class="line">	<span class="built_in">QueryPerformanceFrequency</span>(&amp;nFreq);</span><br><span class="line"></span><br><span class="line">    FILE *fp =<span class="built_in">fopen</span>(<span class="string">&quot;class.cc&quot;</span>,<span class="string">&quot;rw&quot;</span>);</span><br><span class="line">    <span class="type">char</span> ch;</span><br><span class="line">    <span class="type">char</span> str[<span class="number">100</span>];</span><br><span class="line">    <span class="type">int</span> length=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">    BSTree root=<span class="literal">NULL</span>;</span><br><span class="line">    BSTNode *p=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">QueryPerformanceCounter</span>(&amp;t1);</span><br><span class="line">    <span class="keyword">while</span>(ch!=EOF)&#123;</span><br><span class="line">        ch= <span class="built_in">getc</span>(fp);</span><br><span class="line">        <span class="keyword">if</span>(ch!=<span class="string">&#x27;/&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;&lt;&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27; &#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;.&#x27;</span></span><br><span class="line">        &amp;&amp;ch!=<span class="string">&#x27;,&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;\n&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;(&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;)&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;*&#x27;</span></span><br><span class="line">        &amp;&amp;ch!=<span class="string">&#x27;;&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;=&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;\t&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;:&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;;&#x27;</span></span><br><span class="line">        &amp;&amp;ch!=<span class="string">&#x27;#&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;&#123;&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;&#125;&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;[&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;]&#x27;</span></span><br><span class="line">        &amp;&amp;ch!=<span class="string">&#x27;|&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;&quot;&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;%&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;&amp;&#x27;</span></span><br><span class="line">        &amp;&amp;ch!=<span class="string">&#x27;&lt;&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;-&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;!&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;&gt;&#x27;</span></span><br><span class="line">        &amp;&amp;ch!=<span class="string">&#x27;\\&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;+&#x27;</span>)&#123;</span><br><span class="line">            str[length++]=ch;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(length!=<span class="number">0</span>)&#123;</span><br><span class="line">                str[length]=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">search</span>(root,str,<span class="literal">NULL</span>,&amp;p))&#123;</span><br><span class="line">                    p-&gt;count++;</span><br><span class="line">                    p=<span class="literal">NULL</span>;</span><br><span class="line">                    str[<span class="number">0</span>]=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">                    length=<span class="number">0</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">if</span>(<span class="built_in">Insert</span>(&amp;root,str))&#123;</span><br><span class="line">                        count++;</span><br><span class="line">                        str[<span class="number">0</span>]=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">                        length=<span class="number">0</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                        </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">inorderprint</span>(root);</span><br><span class="line">    cout&lt;&lt;count&lt;&lt;endl;</span><br><span class="line">    <span class="built_in">fclose</span>(fp);</span><br><span class="line">    <span class="built_in">QueryPerformanceCounter</span>(&amp;t2);</span><br><span class="line">    dt = (t2.QuadPart - t1.QuadPart) / (<span class="type">double</span>)nFreq.QuadPart;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Running time :&quot;</span> &lt;&lt; dt * <span class="number">1000000</span> &lt;&lt; <span class="string">&quot;us&quot;</span> &lt;&lt; endl;<span class="comment">//dt</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="程序的执行效率分析"><a href="#程序的执行效率分析" class="headerlink" title="程序的执行效率分析"></a>程序的执行效率分析</h2><p>​    采用*QueryPerformanceFrequency()*获得始终频率，采用 *QueryPerformanceCounte()*获得程序开始和结束的时间戳。</p>
<p>​    <em>（end.QuadPart-start.QuedPart)/nFreq.QuadPart</em></p>
<p>​    <strong>运行结果为 1.29108e+06us</strong></p>
<p>​    <strong>采用链表实现的程序 运行结果为 3.15133e+06us</strong></p>
<p>综上采用二叉树的程序效果好于链表实现的程序。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/07/29/%E6%96%87%E6%9C%AC%E5%88%86%E6%9E%90%E4%BA%8C%E5%8F%89%E6%A0%91%E5%AE%9E%E7%8E%B0/" data-id="cl92id4pj001mggmjf0re9oxw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-二叉排序树的实现" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/07/28/%E4%BA%8C%E5%8F%89%E6%8E%92%E5%BA%8F%E6%A0%91%E7%9A%84%E5%AE%9E%E7%8E%B0/" class="article-date">
  <time datetime="2022-07-28T09:24:06.000Z" itemprop="datePublished">2022-07-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/07/28/%E4%BA%8C%E5%8F%89%E6%8E%92%E5%BA%8F%E6%A0%91%E7%9A%84%E5%AE%9E%E7%8E%B0/">二叉排序树的实现</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="二叉排序树的结构"><a href="#二叉排序树的结构" class="headerlink" title="二叉排序树的结构"></a>二叉排序树的结构</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">BSTNode</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> data;</span><br><span class="line"></span><br><span class="line">  BSTNode *lchild;  <span class="comment">//左孩子</span></span><br><span class="line"></span><br><span class="line">  BSTNode *rchild;  <span class="comment">//右孩子</span></span><br><span class="line"></span><br><span class="line">&#125;BSTNode, *BSTree;</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<p><strong>二叉排序树具有的特点：</strong></p>
<p>​    (1)若它的左子树不为空，则左子树上所有节点的值均小于它的根节点的值；</p>
<p>​    (2)若它的右子树不为空，则右子树上所有节点的值均大于它的根节点的值；</p>
<p>​    (3)它的左、右子树也分别为二叉排序树。</p>
<h2 id="二叉排序树的操作"><a href="#二叉排序树的操作" class="headerlink" title="二叉排序树的操作"></a>二叉排序树的操作</h2><p>​    二叉排序树是一个动态树表，他的生成是在一次次查找之后插入生成的。所有的结点，都会在查找不成功的路径的最后一个结点的左孩子或右孩子的位置插入。所以每个新插入的结点都是叶子结点。</p>
<h3 id="1、插入"><a href="#1、插入" class="headerlink" title="1、插入"></a>1、插入</h3><p>​            a、插入过程，首先在树中查找是否存在该节点。如果存在，直接返回，如果不存在则进行下一步。</p>
<p>​            b、找到其位置，进行插入。要插入的位置一定是叶子结点。</p>
<h3 id="2、删除"><a href="#2、删除" class="headerlink" title="2、删除"></a>2、删除</h3><p>​        删除由三种情况，没有左孩子和右孩子，没有左孩子(右孩子)，有左孩子和右孩子：</p>
<p>​        a、删除一个结点，首先要查询在树中是否存在该节点，若不存在则直接返回，若存在则进行下一步。</p>
<p>​        b、若待删结点只有左子树(右子树)，则将该结点左子树（右子树）的内容复制给该结点。然后释放该节点</p>
<p>的内存。</p>
<img src="/2022/07/28/%E4%BA%8C%E5%8F%89%E6%8E%92%E5%BA%8F%E6%A0%91%E7%9A%84%E5%AE%9E%E7%8E%B0/image-20220728175104425.png" class="">

<p>c、如果待删节点既有左子树又有右子树，此时的删除可能有点复杂，但是也比较好理解。就是在待删节点的左子树中找到值最大的那个节点，将其放到待删节点的位置。</p>
<p><img src="/2022/07/28/%E4%BA%8C%E5%8F%89%E6%8E%92%E5%BA%8F%E6%A0%91%E7%9A%84%E5%AE%9E%E7%8E%B0/image-20220728175157101.png" class="" title="%)&lt;&#x2F;p&gt; &lt;h3 id&#x3D;3、查询&gt;&lt;a href&#x3D;#3、查询 class&#x3D;headerlink title&#x3D;3、查询&gt;&lt;&#x2F;a&gt;3、查询&lt;&#x2F;h3&gt;&lt;p&gt;​ 查询过程比较简单，首先将关键字和根节点的关键字比较，如果相等则返回节点的位置(指针)；否则，如果小于根节点的关键字，则去左子树中继续查找；如果大于根节点的关键字，则去右子树中查找；如果找到叶子节点也没找到，则返回NULL。&lt;&#x2F;p&gt; &lt;pre&gt;&lt;code&gt; 查询过程的最好情况就是上面的图中那样，节点在左右子树中分布比较均匀，此时查找的时间复杂度为O(logn)；最坏的情况就是在建立二叉排序树时，输入的关键字序列正好是有序的，此时形成的二叉排序树是一棵单支二叉树，此时查找退化成了单链表的查找，时间的复杂度为O(n).如下图： &lt;&#x2F;code&gt;&lt;&#x2F;pre&gt; &lt;p&gt;{% asset_img image-20220728175330994.png %)&lt;&#x2F;p&gt; &lt;h3 id&#x3D;4、遍历&gt;&lt;a href&#x3D;#4、遍历 class&#x3D;headerlink title&#x3D;4、遍历&gt;&lt;&#x2F;a&gt;4、遍历&lt;&#x2F;h3&gt;&lt;p&gt;​ 由上面二排序树的定义可知，左子树的所有值均小于根节点，右子树的所有值均大于根节点，而这个特点正好和二叉树的中序遍历中–左子树-&gt;根节点-&gt;右子树不谋而合，所以对二叉排序树进行中序遍历得到的正好是一个有序的。&lt;&#x2F;p&gt; &lt;h2 id&#x3D;源代码&gt;&lt;a href&#x3D;#源代码 class&#x3D;headerlink title&#x3D;源代码&gt;&lt;&#x2F;a&gt;源代码&lt;&#x2F;h2&gt;<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">\<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//二叉排序树</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">BSTNode</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> data;</span><br><span class="line"></span><br><span class="line">  BSTNode *lchild;  <span class="comment">//左孩子</span></span><br><span class="line"></span><br><span class="line">  BSTNode *rchild;  <span class="comment">//右孩子</span></span><br><span class="line"></span><br><span class="line">&#125;BSTNode, *BSTree;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Search</span><span class="params">(BSTree bst, <span class="type">int</span> key, BSTree f, BSTree *p)</span></span>;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">InOderTraverse</span><span class="params">(BSTree bst)</span>  <span class="comment">//中序递归遍历二叉树</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">NULL</span> != bst)</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">​    <span class="built_in">InOderTraverse</span>(bst-&gt;lchild);</span><br><span class="line"></span><br><span class="line">​    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, bst-&gt;data);</span><br><span class="line"></span><br><span class="line">​    <span class="built_in">InOderTraverse</span>(bst-&gt;rchild);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span> BSTNode* <span class="title">BuyNode</span><span class="params">(<span class="type">int</span> data)</span>  <span class="comment">//生成一个节点并进行初始化</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">  BSTNode *pTmp = (BSTNode*)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(BSTNode));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">NULL</span> == pTmp)</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">​    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  pTmp-&gt;data = data;</span><br><span class="line"></span><br><span class="line">  pTmp-&gt;lchild = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">  pTmp-&gt;rchild = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> pTmp;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Insert</span><span class="params">(BSTree *bst, <span class="type">int</span> key)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">NULL</span> == *bst)  <span class="comment">//空树</span></span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">​    *bst = <span class="built_in">BuyNode</span>(key);  <span class="comment">//插入根节点</span></span><br><span class="line"></span><br><span class="line">​    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  BSTNode *p;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//先在二叉排序树中查找要插入的值是否已经存在</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!<span class="built_in">Search</span>(*bst, key, <span class="literal">NULL</span>, &amp;p))  <span class="comment">//如果查找失败，则插入；此时p指向遍历的最后一个节点</span></span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">​    BSTNode *pNew = <span class="built_in">BuyNode</span>(key);</span><br><span class="line"></span><br><span class="line">​    <span class="keyword">if</span> (key &lt; p-&gt;data)  <span class="comment">//将s作为p的左孩子</span></span><br><span class="line"></span><br><span class="line">​    &#123;</span><br><span class="line"></span><br><span class="line">​      p-&gt;lchild = pNew;</span><br><span class="line"></span><br><span class="line">​    &#125;</span><br><span class="line"></span><br><span class="line">​    <span class="keyword">else</span> <span class="keyword">if</span> (key &gt; p-&gt;data)  <span class="comment">//将s作为p的右孩子</span></span><br><span class="line"></span><br><span class="line">​    &#123;</span><br><span class="line"></span><br><span class="line">​      p-&gt;rchild = pNew;</span><br><span class="line"></span><br><span class="line">​    &#125;</span><br><span class="line"></span><br><span class="line">​    <span class="keyword">return</span> <span class="literal">true</span>;  <span class="comment">//插入成功</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">​    <span class="built_in">printf</span>(<span class="string">&quot;\nThe node(%d) already exists.\n&quot;</span>, key);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">删除分三种情况：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">(1)被删除的节点无孩子，说明该节点是叶子节点，直接删</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">(2)被删除的节点只有左孩子或者右孩子，直接删，并将其左孩子或者右孩子放在被删节点的位置</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">(3)被删除的节点既有右孩子又有右孩子</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="function">BSTNode* <span class="title">FindParent</span><span class="params">(BSTree bst, BSTNode *child)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">NULL</span> == bst)</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">​    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (bst-&gt;lchild == child || bst-&gt;rchild == child)</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">​    <span class="keyword">return</span> bst;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(<span class="literal">NULL</span> != bst-&gt;lchild)</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">​    <span class="built_in">FindParent</span>(bst-&gt;lchild, child);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="literal">NULL</span> != bst-&gt;rchild)</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">​    <span class="built_in">FindParent</span>(bst-&gt;rchild, child);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Delete</span><span class="params">(BSTree *bst, <span class="type">int</span> key)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">NULL</span> == *bst)</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">​    <span class="built_in">exit</span>(<span class="number">1</span>);  <span class="comment">//空树直接报错</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  BSTNode *p;</span><br><span class="line"></span><br><span class="line">  BSTNode *f = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">  BSTNode *q, *s;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Search</span>(*bst, key, <span class="literal">NULL</span>, &amp;p)) <span class="comment">//确实存在值为key的节点,则p指向该节点</span></span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">​    <span class="keyword">if</span> (<span class="literal">NULL</span> == p-&gt;lchild &amp;&amp; <span class="literal">NULL</span> != p-&gt;rchild)  <span class="comment">//无左孩子,有右孩子</span></span><br><span class="line"></span><br><span class="line">​    &#123;</span><br><span class="line"></span><br><span class="line">​      q = p-&gt;rchild;</span><br><span class="line"></span><br><span class="line">​      p-&gt;data = q-&gt;data;   <span class="comment">//因为两个节点之间本质的不同在于数据域的不同，而与放在哪个地址没有关系</span></span><br><span class="line"></span><br><span class="line">​      p-&gt;rchild = q-&gt;rchild;</span><br><span class="line"></span><br><span class="line">​      p-&gt;lchild = q-&gt;lchild;</span><br><span class="line"></span><br><span class="line">​      <span class="built_in">free</span>(q);</span><br><span class="line"></span><br><span class="line">​    &#125;</span><br><span class="line"></span><br><span class="line">​    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="literal">NULL</span> == p-&gt;rchild &amp;&amp; <span class="literal">NULL</span> != p-&gt;lchild)  <span class="comment">//无右孩子,有左孩子</span></span><br><span class="line"></span><br><span class="line">​    &#123;</span><br><span class="line"></span><br><span class="line">​      q = p-&gt;lchild;</span><br><span class="line"></span><br><span class="line">​      p-&gt;data = q-&gt;data;</span><br><span class="line"></span><br><span class="line">​      p-&gt;rchild = q-&gt;rchild;</span><br><span class="line"></span><br><span class="line">​      p-&gt;lchild = q-&gt;lchild;</span><br><span class="line"></span><br><span class="line">​      <span class="built_in">free</span>(q);</span><br><span class="line"></span><br><span class="line">​    &#125;</span><br><span class="line"></span><br><span class="line">​    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="literal">NULL</span> != p-&gt;rchild &amp;&amp; <span class="literal">NULL</span> != p-&gt;lchild) <span class="comment">//既有左孩子，又有右孩子</span></span><br><span class="line"></span><br><span class="line">​    &#123;</span><br><span class="line"></span><br><span class="line">​      q = p;</span><br><span class="line"></span><br><span class="line">​      s = p-&gt;lchild;  <span class="comment">//找左孩子的最右孩子</span></span><br><span class="line"></span><br><span class="line">​      <span class="keyword">while</span> (s-&gt;rchild)</span><br><span class="line"></span><br><span class="line">​      &#123;</span><br><span class="line"></span><br><span class="line">​        q = s;</span><br><span class="line"></span><br><span class="line">​        s = s-&gt;rchild;</span><br><span class="line"></span><br><span class="line">​      &#125;</span><br><span class="line"></span><br><span class="line">​      p-&gt;data = s-&gt;data;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">​      <span class="keyword">if</span> (q != p)</span><br><span class="line"></span><br><span class="line">​      &#123;</span><br><span class="line"></span><br><span class="line">​        q-&gt;rchild = s-&gt;lchild;</span><br><span class="line"></span><br><span class="line">​      &#125;</span><br><span class="line"></span><br><span class="line">​      <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">​      &#123;</span><br><span class="line"></span><br><span class="line">​        q-&gt;lchild = s-&gt;lchild;</span><br><span class="line"></span><br><span class="line">​      &#125;</span><br><span class="line"></span><br><span class="line">​      <span class="built_in">free</span>(s);</span><br><span class="line"></span><br><span class="line">​    &#125;</span><br><span class="line"></span><br><span class="line">​    <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">​    &#123;</span><br><span class="line"></span><br><span class="line">​      <span class="keyword">if</span> (*bst == p)  <span class="comment">//只有一个根节点</span></span><br><span class="line"></span><br><span class="line">​      &#123;</span><br><span class="line"></span><br><span class="line">​        <span class="built_in">free</span>(*bst);</span><br><span class="line"></span><br><span class="line">​        *bst = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">​        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">​      &#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">​      BSTNode* parent = <span class="built_in">FindParent</span>(*bst, p);</span><br><span class="line"></span><br><span class="line">​      <span class="keyword">if</span> (parent-&gt;lchild == p)</span><br><span class="line"></span><br><span class="line">​      &#123;</span><br><span class="line"></span><br><span class="line">​        parent-&gt;lchild = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">​      &#125;</span><br><span class="line"></span><br><span class="line">​      <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">​      &#123;</span><br><span class="line"></span><br><span class="line">​        parent-&gt;rchild = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">​      &#125;</span><br><span class="line"></span><br><span class="line">​      <span class="built_in">free</span>(p);</span><br><span class="line"></span><br><span class="line">​    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Search</span><span class="params">(BSTree bst, <span class="type">int</span> key, BSTree f, BSTree *p)</span>  <span class="comment">//查找成功时，p指向值为key的节点。如果查找失败，则p指向遍历的最后一个节点</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!bst)</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">​    *p = f;  <span class="comment">//该结点的值和父结点相同</span></span><br><span class="line"></span><br><span class="line">​    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (bst-&gt;data == key)  <span class="comment">//查找成功，直接返回</span></span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">​    *p = bst;</span><br><span class="line"></span><br><span class="line">​    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (bst-&gt;data &lt; key)</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">​    <span class="keyword">return</span> <span class="built_in">Search</span>(bst-&gt;rchild, key, bst, p);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Search</span>(bst-&gt;lchild, key, bst, p);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">  BSTNode *root = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Insert</span>(&amp;root, <span class="number">45</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Insert</span>(&amp;root, <span class="number">24</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Insert</span>(&amp;root, <span class="number">53</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Insert</span>(&amp;root, <span class="number">12</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Insert</span>(&amp;root, <span class="number">90</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">InOderTraverse</span>(root);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Insert</span>(&amp;root, <span class="number">45</span>);  </span><br><span class="line"></span><br><span class="line">  <span class="built_in">InOderTraverse</span>(root);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Delete</span>(&amp;root, <span class="number">4</span>);    <span class="comment">//删除节点45</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">Delete</span>(&amp;root, <span class="number">45</span>);    <span class="comment">//删除节点45</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">InOderTraverse</span>(root);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>">
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/07/28/%E4%BA%8C%E5%8F%89%E6%8E%92%E5%BA%8F%E6%A0%91%E7%9A%84%E5%AE%9E%E7%8E%B0/" data-id="cl92id4pg001eggmj6vsn58ln" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-文本分析链表实现" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/07/28/%E6%96%87%E6%9C%AC%E5%88%86%E6%9E%90%E9%93%BE%E8%A1%A8%E5%AE%9E%E7%8E%B0/" class="article-date">
  <time datetime="2022-07-28T07:11:27.000Z" itemprop="datePublished">2022-07-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/07/28/%E6%96%87%E6%9C%AC%E5%88%86%E6%9E%90%E9%93%BE%E8%A1%A8%E5%AE%9E%E7%8E%B0/">文本分析链表实现</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">list</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="type">char</span> str[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> Count;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">list</span> * next;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">deleteNode</span><span class="params">(<span class="keyword">struct</span> list **head)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">list</span> *s = (*head)-&gt;next;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">list</span> *pre_s = *head;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">list</span> *temp;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(s-&gt;next!=<span class="literal">NULL</span>)&#123;</span><br><span class="line"></span><br><span class="line">​    pre_s=s;</span><br><span class="line"></span><br><span class="line">​    s=s-&gt;next;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  s-&gt;str[<span class="number">0</span>]=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  s-&gt;Count =<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">list ls[<span class="number">1000000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="type">char</span> ch;</span><br><span class="line"></span><br><span class="line">  FILE *fp = <span class="built_in">fopen</span>(<span class="string">&quot;class.cc&quot;</span>,<span class="string">&quot;rw&quot;</span>);</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> lengthNow=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> flag = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> second=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">list</span> *head;</span><br><span class="line"></span><br><span class="line">  ls[<span class="number">0</span>].next=<span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">list</span> *pr = &amp;ls[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">list</span> *pn = &amp;ls[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">list</span> *temp;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// temp = (struct list *)malloc(sizeof(struct list));</span></span><br><span class="line"></span><br><span class="line">  head =(<span class="keyword">struct</span> list *)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="keyword">struct</span> list));</span><br><span class="line"></span><br><span class="line">  head-&gt;next =pn;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> first = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(ch!=EOF)&#123;</span><br><span class="line"></span><br><span class="line">​    ch=<span class="built_in">getc</span>(fp);</span><br><span class="line"></span><br><span class="line">​    <span class="keyword">if</span>(ch!=<span class="string">&#x27;/&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;&lt;&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27; &#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;.&#x27;</span></span><br><span class="line"></span><br><span class="line">​    &amp;&amp;ch!=<span class="string">&#x27;,&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;\n&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;(&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;)&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;*&#x27;</span></span><br><span class="line"></span><br><span class="line">​    &amp;&amp;ch!=<span class="string">&#x27;;&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;=&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;\t&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;:&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;;&#x27;</span></span><br><span class="line"></span><br><span class="line">​    &amp;&amp;ch!=<span class="string">&#x27;#&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;&#123;&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;&#125;&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;[&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;]&#x27;</span></span><br><span class="line"></span><br><span class="line">​    &amp;&amp;ch!=<span class="string">&#x27;|&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;&quot;&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;%&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;&amp;&#x27;</span></span><br><span class="line"></span><br><span class="line">​    &amp;&amp;ch!=<span class="string">&#x27;&lt;&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;-&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;!&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;&gt;&#x27;</span></span><br><span class="line"></span><br><span class="line">​    &amp;&amp;ch!=<span class="string">&#x27;\\&#x27;</span>&amp;&amp;ch!=<span class="string">&#x27;+&#x27;</span>)&#123;</span><br><span class="line"></span><br><span class="line">​      pr-&gt;str[lengthNow++]=ch;</span><br><span class="line"></span><br><span class="line">​    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line"></span><br><span class="line">​      pr-&gt;str[lengthNow]=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">​      <span class="keyword">if</span>(lengthNow!=<span class="number">0</span>)&#123;</span><br><span class="line"></span><br><span class="line">​        flag = <span class="number">1</span> ;</span><br><span class="line"></span><br><span class="line">​        <span class="keyword">if</span>(first==<span class="number">0</span>)&#123;</span><br><span class="line"></span><br><span class="line">​         </span><br><span class="line"></span><br><span class="line">​          <span class="keyword">while</span>(pn!=pr)&#123;</span><br><span class="line"></span><br><span class="line">​              <span class="keyword">if</span>(<span class="built_in">strcmp</span>(pn-&gt;str,pr-&gt;str)==<span class="number">0</span>)&#123;</span><br><span class="line"></span><br><span class="line">​                <span class="built_in">deleteNode</span>(&amp;head);</span><br><span class="line"></span><br><span class="line">​                lengthNow=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">​                pn-&gt;Count++;</span><br><span class="line"></span><br><span class="line">​                flag=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">​                </span><br><span class="line"></span><br><span class="line">​                pn=head-&gt;next;</span><br><span class="line"></span><br><span class="line">​                <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">​              &#125;</span><br><span class="line"></span><br><span class="line">​            </span><br><span class="line"></span><br><span class="line">​            pn=pn-&gt;next;</span><br><span class="line"></span><br><span class="line">​          &#125;</span><br><span class="line"></span><br><span class="line">​          pn=head-&gt;next;</span><br><span class="line"></span><br><span class="line">​        &#125;</span><br><span class="line"></span><br><span class="line">​        <span class="keyword">if</span>(flag==<span class="number">1</span>)&#123;</span><br><span class="line"></span><br><span class="line">​          pr-&gt;Count=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">​          pr-&gt;next = &amp;ls[++count];</span><br><span class="line"></span><br><span class="line">​          pr=pr-&gt;next;</span><br><span class="line"></span><br><span class="line">​          </span><br><span class="line"></span><br><span class="line">​          lengthNow=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">​          flag=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">​          <span class="keyword">if</span>(first==<span class="number">1</span>)&#123;</span><br><span class="line"></span><br><span class="line">​            first=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">​          &#125;</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">​        &#125;</span><br><span class="line"></span><br><span class="line">​    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,count);</span><br><span class="line"></span><br><span class="line">  pn=head-&gt;next;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(pn-&gt;next!=<span class="literal">NULL</span>)&#123;</span><br><span class="line"></span><br><span class="line">​    <span class="built_in">printf</span>(<span class="string">&quot;%s: %d\n&quot;</span>,pn-&gt;str,pn-&gt;Count);</span><br><span class="line"></span><br><span class="line">​    pn=pn-&gt;next;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="链表的结构"><a href="#链表的结构" class="headerlink" title="链表的结构"></a>链表的结构</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">list</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="type">char</span> str[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> Count;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">list</span> * next;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/07/28/%E6%96%87%E6%9C%AC%E5%88%86%E6%9E%90%E9%93%BE%E8%A1%A8%E5%AE%9E%E7%8E%B0/" data-id="cl92id4pk001nggmjb85pd0y0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-链表操作" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/07/26/%E9%93%BE%E8%A1%A8%E6%93%8D%E4%BD%9C/" class="article-date">
  <time datetime="2022-07-26T08:10:33.000Z" itemprop="datePublished">2022-07-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/07/26/%E9%93%BE%E8%A1%A8%E6%93%8D%E4%BD%9C/">链表操作</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ok 0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> fail -1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ENTER printf(<span class="string">&quot;/n&quot;</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>;</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> Elemtype;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    Elemtype data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> * <span class="title">next</span>;</span> </span><br><span class="line">    </span><br><span class="line">&#125;LNode, * LinkList;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">initList</span><span class="params">(LNode** L)</span>;  <span class="comment">//使用这个节点分配一个内存</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">AssignList</span><span class="params">(LNode** L)</span>; <span class="comment">//为节点赋值</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">GetList</span><span class="params">(LNode* p,Elemtype* e)</span>;<span class="comment">//获得节点数据域内容</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">printList</span><span class="params">(Elemtype e)</span>; <span class="comment">//打印节点数据域内容</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">CreatList</span><span class="params">(LinkList* Head)</span>;<span class="comment">//使用这个函数来创造一个链表，运行成功返回OK.</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">ReadList</span><span class="params">(LinkList head)</span>;<span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line">LNode* <span class="title function_">SearchList</span><span class="params">(LinkList head, Elemtype e)</span>;<span class="comment">//在链表中查找第一个含有元素e的节点，并返回这个结点的地址。</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">InsertList</span><span class="params">(LinkList* head, Elemtype e)</span>;<span class="comment">//在第一个含有元素e的结点后面插入一个新的结点,成功返回OK。</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">DeleteList</span><span class="params">(LinkList* head, Elemtype e)</span>;<span class="comment">//删除第一个含有元素e的节点。</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyList</span><span class="params">(LinkList* head)</span>;<span class="comment">//销毁整个链表。</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    LinkList Head=<span class="literal">NULL</span>;</span><br><span class="line">    Elemtype e=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (CreatList(&amp;Head) != ok)<span class="comment">//创建一个头结点为head的链表。</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;创建链表失败！！！&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    ReadList(Head); <span class="comment">//读取链表的数据域并打印</span></span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;请输入那个结点前要插入&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;e);</span><br><span class="line">    <span class="keyword">if</span>(insertList(&amp;Head,e)!=ok)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;插入失败&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;插入后的链表&quot;</span>);</span><br><span class="line">    ReadList(Head);</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;请输入那个结点要删除&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;e);</span><br><span class="line">   <span class="keyword">if</span>(DeleteList(&amp;Head,e)!=ok)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;删除失败&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">   &#125;;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;删除后的链表&quot;</span>);</span><br><span class="line">    ReadList(Head);</span><br><span class="line">    DestroyList(&amp;Head);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//LNode** L 指向LNode指针类型的LNode指针 </span></span><br><span class="line"><span class="comment">//*L 取L的内容 即为一个LNode的一重指针变量</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">initList</span><span class="params">(LNode** L)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>((*L=(LNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode)))==<span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;内存分配失败&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ok;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">AssignList</span><span class="params">(LNode** L)</span>&#123;</span><br><span class="line">    Elemtype data;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请为节点赋值&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;data);</span><br><span class="line">    (*L)-&gt;data=data;</span><br><span class="line">    <span class="keyword">return</span> ok;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">GetList</span><span class="params">(LNode* p,Elemtype* e)</span>&#123;</span><br><span class="line">     *e = p-&gt;data;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">printList</span><span class="params">(Elemtype e)</span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,e);</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">CreatList</span><span class="params">(LinkList* Head)</span>&#123;  <span class="comment">//尾插法</span></span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;创建一个链表&quot;</span>);</span><br><span class="line">    <span class="comment">// 只有一个头节点的空链表</span></span><br><span class="line">    <span class="keyword">if</span>(initList(Head)!=ok) <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">    (*Head)-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    LNode *r=*Head; <span class="comment">//尾指针初试化并指向头指针</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">char</span> over_symbol =<span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        LNode* p;</span><br><span class="line">        <span class="keyword">if</span>(initList(&amp;p)!=ok) <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">        AssignList(&amp;p);</span><br><span class="line">        p-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">        r-&gt;next= p;</span><br><span class="line">        r=p;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;结束请输入:over，否则请按&lt;Enter&gt;&quot;</span>);</span><br><span class="line">        getchar();<span class="comment">//吃掉输入的回车</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;ove%c&quot;</span>, &amp;over_symbol); <span class="comment">//当输入&quot;over&quot;时跳出循环。</span></span><br><span class="line">        getchar();<span class="comment">//吃掉回车。</span></span><br><span class="line">        <span class="keyword">if</span> (over_symbol == <span class="string">&#x27;r&#x27;</span>) <span class="keyword">break</span>;<span class="comment">//判断是否满足结束条件。</span></span><br><span class="line">    &#125; </span><br><span class="line">    </span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;创建成功&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> ok;</span><br><span class="line"></span><br><span class="line">&#125;   </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">ReadList</span><span class="params">(LinkList head)</span>&#123;  <span class="comment">//遍历链表</span></span><br><span class="line"></span><br><span class="line">    LNode *p = head -&gt;next;</span><br><span class="line">    Elemtype e;</span><br><span class="line">    <span class="keyword">while</span>(p!=<span class="literal">NULL</span>)&#123;</span><br><span class="line">        GetList(p,&amp;e);</span><br><span class="line">        printList(e);</span><br><span class="line">        p= p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">LNode* <span class="title function_">SearchList</span><span class="params">(LinkList head,Elemtype e)</span>&#123;  <span class="comment">//查找含有元素e的第一个节点</span></span><br><span class="line"></span><br><span class="line">    LNode *read = head-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(read!=<span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(read-&gt;data!=e)&#123;</span><br><span class="line">            read = read-&gt;next;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> read;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">insertList</span><span class="params">(LinkList *head,Elemtype e)</span>&#123; <span class="comment">//插入一个结点 在第一个含有e的结点前插入一个新的结点</span></span><br><span class="line">    LNode *read = (*head)-&gt;next;  <span class="comment">//读取数据的指针</span></span><br><span class="line">    LNode *pre_read = *head;  <span class="comment">//读取数据指针的前驱</span></span><br><span class="line">    LNode *temp = <span class="literal">NULL</span>;   <span class="comment">// 起保存作用的临时指针</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;正在插入一个结点\n&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span>(read!=<span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(read-&gt;data!=e)&#123;</span><br><span class="line">            read = read -&gt;next;</span><br><span class="line">            pre_read = pre_read-&gt;next;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(read==<span class="literal">NULL</span>) <span class="keyword">return</span> fail;</span><br><span class="line">    temp = read; <span class="comment">// 保存read指针 read是要操作的指针</span></span><br><span class="line">    LNode *p;</span><br><span class="line">    initList(&amp;p);</span><br><span class="line">    AssignList(&amp;p);    </span><br><span class="line">    p-&gt;next=temp;</span><br><span class="line">    pre_read-&gt;next=p;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;操作成功&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> ok;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">DeleteList</span><span class="params">(LinkList *head,Elemtype e)</span>&#123;</span><br><span class="line">    LNode *read=(*head)-&gt;next;</span><br><span class="line">    LNode *pre_read=*head;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;正在删除一个节点&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span>(read!=<span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(read-&gt;data==e)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            read=read-&gt;next;</span><br><span class="line">            pre_read = pre_read-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(read==<span class="literal">NULL</span>) <span class="keyword">return</span> fail;</span><br><span class="line"></span><br><span class="line">    LNode *temp=read;</span><br><span class="line">    pre_read -&gt;next = temp-&gt;next;</span><br><span class="line">    <span class="built_in">free</span>(temp);</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;删除成功&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> ok;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyList</span><span class="params">(LinkList *head)</span>&#123;</span><br><span class="line"></span><br><span class="line">    LNode *read = *head;</span><br><span class="line">    LNode *temp = read-&gt;next; <span class="comment">//temp 临时保存要操作的节点的后继</span></span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;正在销毁一个链表&quot;</span>);</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        <span class="built_in">free</span>(read);</span><br><span class="line">        read=temp;</span><br><span class="line">        temp = read-&gt;next;</span><br><span class="line">    &#125;<span class="keyword">while</span>(temp!=<span class="literal">NULL</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;销毁成功&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="运行结果"><a href="#运行结果" class="headerlink" title="运行结果"></a>运行结果</h2><img src="/2022/07/26/%E9%93%BE%E8%A1%A8%E6%93%8D%E4%BD%9C/image-20220726160649715.png" class="">

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/07/26/%E9%93%BE%E8%A1%A8%E6%93%8D%E4%BD%9C/" data-id="cl92id4pr001tggmj5ofx16le" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/6/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/8/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/11/02/qemu%E6%96%B0%E5%A2%9ESoc/">qemu新增Soc</a>
          </li>
        
          <li>
            <a href="/2022/10/28/rtos%E4%B8%AD%E6%96%AD%E6%B5%81%E7%A8%8B/">rtos中断流程</a>
          </li>
        
          <li>
            <a href="/2022/10/24/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BD%8D%E5%9B%BE/">数据结构位图</a>
          </li>
        
          <li>
            <a href="/2022/10/21/riscv%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%BC%96%E7%A8%8B/">riscv汇编语言编程</a>
          </li>
        
          <li>
            <a href="/2022/10/20/%E4%BC%98%E5%85%88%E7%BA%A7%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E5%AE%9E%E7%8E%B0/">优先级任务调度实现</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>